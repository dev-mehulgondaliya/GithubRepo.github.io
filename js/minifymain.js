$(document).ready(async function(){let t="johnpapa",e=1,a,r="desc",n=$("#number_of_repo").text();async function i(t){$("#user_profile_img").addClass("skeleton-circle"),$("#user_name,#user_bio,#user_location,#twitter,#github").addClass("skeleton-loader");try{let e=await fetch(`https://api.github.com/users/${t}`);if(e.ok){let a=await e.json();$("#user_profile_img").attr("src",`${a.avatar_url}`),$("#user_name").text(`${a.name}`),$("#user_bio").text(null!==a.bio&&"null"!==a.bio?a.bio:"No bio available"),(null!==a.location||"null"!==a.location)&&$("#user_location").html(`
                    <i class="fa-solid fa-location-dot"></i>
                    <span>${a.location}</span>
                    `),(null!==a.html_url||"null"!==a.html_url)&&($("#user_github").text(`${a.html_url}`),$("#user_github_link").attr("href",`${a.html_url}`),$(".fa-github").show()),a.twitter_username&&null!==a.twitter_username&&"null"!==a.twitter_username&&($("#user_twitter").text(`https://twitter.com/${a.twitter_username}`),$("#twitter_link").attr("href",`https://twitter.com/${a.twitter_username}`),$(".fa-x-twitter").show()),$("#user_profile_img").removeClass("skeleton-circle"),$("#user_name,#user_bio,#user_location,#twitter,#github").removeClass("skeleton-loader")}else throw Error("Network response was not ok")}catch(r){console.error("Error fetching data with Fetch API:",r)}}async function o(t,e,a,r){$("#spinner_loader").show(),$("#repo_showcase").html(""),$("#filter,#pagination-container").hide();try{let n=await fetch(`https://api.github.com/users/${t}/repos?page=${a}&per_page=${e}&sort=updated&direction=${r}`);if(n.ok){let i=await n.json();i&&i.forEach(function(e){let a=new Date(e.updated_at),r=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}).format(a);$("#repo_showcase").append(`
                            <div class="col-12 p-1">
                                <div class="border border-1 rounded  p-2">
                                    <a href="https://github.com/${t}/${e.name}" target="_blank" class="text-primary reponame text-wrap text-break">${e.name}</a>
                                    <p class="d-flex gap-1 align-items-center text-secondary-emphasis">Update at ${r}</p>
                                    <p>${null!==e.description&&"null"!==e.description?e.description:""}</p>
                                    <div class="d-flex flex-wrap gap-2">
                                    ${e.topics.map(t=>`
                                        <button class="bg-info rounded-pill border-0 text-white p-2">${t}</button>
                                    `).join("")}
                                    </div>
                                </div>
                            </div>
                        `)}),$("#spinner_loader").hide(),$("#filter,#pagination-container").show()}else throw Error("Network response was not ok")}catch(o){console.error("Error fetching data with Fetch API:",o)}}async function l(){try{let i=await fetch(`https://api.github.com/users/${t}/repos`);if(i.ok){let u=await i.json(),p=u.length;a=Math.ceil(p/Math.round(n)),function a(i){let u=$("#pagination-container");u.empty();let p=Math.max(1,e-Math.floor(2.5)),d=Math.min(i,p+5-1);for(let h=p;h<=d;h++){let b=$("<button>",{type:"button",class:"btn btn-outline-dark",text:h,click:function(){e=h,o(t,n,h,r),l()}});h==e&&b.addClass("active"),1==i&&(b.addClass("active"),$("#prevbtn").prop("disabled",!0),$("#nextbtn").prop("disabled",!0)),u.append(b)}let f=$("<button>",{type:"button",id:"prevbtn",class:"btn btn-outline-dark","aria-label":"Previous Button",html:'<i class="fa-solid fa-angles-left"></i>',click:s});u.prepend(f),1==e&&$("#prevbtn").prop("disabled",!0);let m=$("<button>",{type:"button",id:"nextbtn",class:"btn btn-outline-dark","aria-label":"Next Button",html:'<i class="fa-solid fa-angles-right"></i>',click:c});u.append(m),e==i&&$("#nextbtn").prop("disabled",!0)}(a)}else throw Error("Network response was not ok")}catch(d){console.error("Error fetching data with Fetch API:",d)}}function s(){e>1?(e--,l(),o(t,n,e,r)):$("#prevbtn").prop("disabled",!0)}function c(){let i=a;e<i?(e++,l(),o(t,n,e,r)):$("#nextbtn").prop("disabled",!0)}$("#userSearchbtn").on("click",function(){i(t=$("#userSearch").val()),o(t,n,1,r),l(),$("#userSearch").val("")}),i(t),o(t,n,1,r),$(".numberoflist a").on("click",function(a){a.preventDefault();var i=$(this).data("value");$("#number_of_repo").text(i),n=$("#number_of_repo").text(),o(t,i,e=1,r),l()}),$(".sorting a").on("click",function(a){a.preventDefault();var r=$(this).text(),i=$(this).data("value");$("#sortingvalue").text(r),o(t,n,e=1,i),l()}),l()});